(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{95:function(n,e,t){},96:function(n,e,t){"use strict";t.r(e);var r,a=t(0),o=t(19),c=t.n(o),i=t(57),s=t(4),l=t(21),u=t(7),d=t.n(u),p=t(17),b=t(11),j=t(13),x=t(110),h=t(18),f=t.n(h),g=t(14),O=t(48),m="http://localhost:5000/auth",v=t(2),y=g.a.div(r||(r=Object(j.a)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #34495e;\n  .loginContainer {\n    width: 30%;\n    min-width: 370px;\n    height: 50%;\n    min-height: 500px;\n    background-color: #f5f5f5;\n    border-radius: 20px;\n    padding: 2%;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    row-gap: 10px;\n  }\n  h1 {\n    margin-bottom: 30px;\n  }\n  form {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    row-gap: 10px;\n  }\n  form input {\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    border-radius: 15px;\n    outline: none;\n    border: none;\n  }\n  .primaryColor {\n    background-color: #2980b9;\n    color: #f5f5f5;\n  }\n  .primaryColor:hover {\n    background-color: #2980b9;\n  }\n  .buttonContainer {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n  }\n  .buttonContainer Button {\n    height: 70px;\n    width: 49%;\n  }\n  .secondaryColor {\n    background-color: #f1c40f;\n  }\n  .KakaoButton {\n    background-image: url(../img/kakao_login.png);\n    background-position: center;\n    background-size: cover;\n  }\n"])));var w,k=function(){var n=Object(a.useState)(""),e=Object(b.a)(n,2),t=e[0],r=e[1],o=Object(a.useState)(""),c=Object(b.a)(o,2),i=c[0],l=c[1],u=Object(s.f)(),j=(window.Kakao,function(){var n=Object(p.a)(d.a.mark((function n(e){var r,a,o,c,s;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),r={username:t,password:i},n.next=4,f.a.post("".concat(m,"/login"),r);case 4:a=n.sent,o=a.data,c=o.status,s=o.token,"success"===c?(localStorage.setItem("token",s),u.go(0)):alert(a.data.error);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),h=function(){var n=Object(p.a)(d.a.mark((function n(e){var t,r,a,o,c,i,s,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.profile,r=t.id,a=t.properties.nickname,o={id:r,nickname:a},n.next=4,f.a.post("".concat(m,"/kakaoLogin"),o);case 4:c=n.sent,i=c.data,s=i.status,l=i.token,"success"===s&&(localStorage.setItem("token",l),u.go(0));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)(y,{children:Object(v.jsxs)("div",{className:"loginContainer",children:[Object(v.jsx)("h1",{children:"\uacfc\uc678 \ud61c\uc730"}),Object(v.jsxs)("form",{onSubmit:j,children:[Object(v.jsx)("input",{placeholder:"\uc544\uc774\ub514",type:"text",value:t,onChange:function(n){return r(n.target.value)}}),Object(v.jsx)("input",{placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",value:i,onChange:function(n){return l(n.target.value)}}),Object(v.jsx)(x.a,{className:"primaryColor",type:"submit",children:"\ub85c\uadf8\uc778"})]}),Object(v.jsxs)("div",{className:"buttonContainer",children:[Object(v.jsx)(x.a,{className:"secondaryColor",onClick:function(){return u.push("/register")},children:"\ud68c\uc6d0\uac00\uc785"}),Object(v.jsx)(O.a,{className:"kakaoLogin",jskey:"4c29c3d6db416c3bbf28c6c1517a41ac",onSuccess:h,onFail:function(){return alert("\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")},getProfile:!0,style:{width:"100%",height:"100%",background:"none",borderRadius:"10px",outline:"none",border:"none",cursor:"pointer"}})]})]})})},C=t(30),S=t(29),N=g.a.div(w||(w=Object(j.a)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #34495e;\n  .loginContainer {\n    width: 30%;\n    min-width: 370px;\n    height: 50%;\n    min-height: 500px;\n    background-color: #f5f5f5;\n    border-radius: 20px;\n    padding: 2%;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    row-gap: 10px;\n  }\n  h1 {\n    margin-bottom: 30px;\n  }\n  form {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    row-gap: 10px;\n  }\n  form input {\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    border-radius: 15px;\n    outline: none;\n    border: none;\n  }\n  .primaryColor {\n    width: 100%;\n    background-color: #2980b9;\n    color: #f5f5f5;\n  }\n  .primaryColor:hover {\n    background-color: #2980b9;\n  }\n  form select {\n    width: 100%;\n    padding: 20px;\n    border: none;\n    outline: none;\n    background-color: #ffffff;\n    font-family: inherit;\n    border-radius: 15px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n  .selectContainer {\n    display: flex;\n    width: 100%;\n    position: relative;\n  }\n  .dropDown {\n    position: absolute;\n    right: 10px;\n    top: 20px;\n  }\n"])));var z,I,D,E=function(){var n=Object(a.useState)(""),e=Object(b.a)(n,2),t=e[0],r=e[1],o=Object(a.useState)(""),c=Object(b.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(""),j=Object(b.a)(u,2),h=j[0],g=j[1],O=Object(a.useState)(""),y=Object(b.a)(O,2),w=y[0],k=y[1],z=Object(a.useState)("student"),I=Object(b.a)(z,2),D=I[0],E=I[1],F=Object(s.f)(),B=function(){var n=Object(p.a)(d.a.mark((function n(e){var r,a,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),r={username:t,password:i,nickname:w,usertype:D},n.next=4,f.a.post("".concat(m,"/register"),r);case 4:a=n.sent,"success"===(o=a.data.status)?(alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4! \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694"),F.replace("/")):"error"===o&&alert(a.data.error);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)(N,{children:Object(v.jsxs)("div",{className:"loginContainer",children:[Object(v.jsx)("h1",{children:"\uacfc\uc678 \ud61c\uc730"}),Object(v.jsxs)("form",{onSubmit:B,children:[Object(v.jsx)("input",{placeholder:"\uc544\uc774\ub514",type:"text",value:t,onChange:function(n){return r(n.target.value)}}),Object(v.jsx)("input",{placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",value:i,onChange:function(n){return l(n.target.value)}}),Object(v.jsx)("input",{placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",value:h,onChange:function(n){return g(n.target.value)}}),i!==h?Object(v.jsx)("h4",{children:"\ube44\ubc00\ubc88\ud638\uac00 \ub2e4\ub985\ub2c8\ub2e4"}):"",Object(v.jsx)("input",{placeholder:"\ub2c9\ub124\uc784",type:"text",value:w,onChange:function(n){return k(n.target.value)}}),Object(v.jsxs)("div",{className:"selectContainer",children:[Object(v.jsxs)("select",{value:D,onChange:function(n){return E(n.target.value)},children:[Object(v.jsx)("option",{value:"student",children:"\ud559\uc0dd"}),Object(v.jsx)("option",{value:"teacher",children:"\uc120\uc0dd\ub2d8"})]}),Object(v.jsx)(S.a,{className:"dropDown",icon:C.a})]}),Object(v.jsx)(x.a,{className:"primaryColor",type:"submit",children:"\ud68c\uc6d0\uac00\uc785"})]})]})})},F="GET_USER_OBJ",B=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===F?e.payload:n},U=t(36);var J,_,K=g.a.div(z||(z=Object(j.a)(["\n  box-sizing: border-box;\n  display: ",";\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  overflow: auto;\n  outline: none;\n"])),(function(n){return n.visible?"block":"none"})),L=g.a.div(I||(I=Object(j.a)(["\n  box-sizing: border-box;\n  display: ",";\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n"])),(function(n){return n.visible?"block":"none"})),R=g.a.div(D||(D=Object(j.a)(["\n  box-sizing: border-box;\n  position: relative;\n  box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.5);\n  background-color: #fff;\n  border-radius: 10px;\n  width: 360px;\n  max-width: 480px;\n  top: 50%;\n  transform: translateY(-50%);\n  margin: 0 auto;\n  padding: 40px 20px;\n"]))),G=function(n){var e=n.className,t=n.visible,r=n.children;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,{visible:t}),Object(v.jsx)(K,{className:e,tabIndex:"-1",visible:t,children:Object(v.jsx)(R,{tabIndex:"0",className:"modal-inner",children:r})})]})},P=g.a.div(J||(J=Object(j.a)(["\n  display: flex;\n  width: 100%;\n  position: relative;\n  outline: none;\n  border: none;\n\n  select {\n    width: 100%;\n    padding: 20px;\n    border: 1px solid gray;\n    outline: none;\n    background-color: #ffffff;\n    font-family: inherit;\n    border-radius: 15px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  .dropDown {\n    position: absolute;\n    right: 10px;\n    top: 20px;\n  }\n"]))),T=g.a.div(_||(_=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n\n  .buttonSpan {\n    display: flex;\n    justify-content: flex-end;\n  }\n"])));var Y=function(){var n=Object(s.f)(),e=Object(l.c)((function(n){return n.user})),t=Object(a.useState)(!1),r=Object(b.a)(t,2),o=r[0],c=r[1],i=Object(a.useState)("student"),u=Object(b.a)(i,2),j=u[0],h=u[1];Object(a.useEffect)((function(){"notyet"===e.usertype?c(!0):c(!1)}),[e]);var g=function(){var t=Object(p.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(U.a)(Object(U.a)({},e),{},{usertype:j}),t.next=3,f.a.post("".concat(m,"/updateUser"),{updatedUser:r});case 3:"success"===t.sent.data.status&&n.go(0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(G,{visible:o,children:Object(v.jsxs)(T,{children:[Object(v.jsx)("h2",{children:"\ucd94\uac00 \uc815\ubcf4 \ud655\uc778"}),Object(v.jsx)("span",{children:"\ubcf8\uc778\uc758 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),Object(v.jsxs)(P,{children:[Object(v.jsxs)("select",{value:j,onChange:function(n){return h(n.target.value)},children:[Object(v.jsx)("option",{value:"student",children:"\ud559\uc0dd"}),Object(v.jsx)("option",{value:"teacher",children:"\uc120\uc0dd\ub2d8"})]}),Object(v.jsx)(S.a,{className:"dropDown",icon:C.a})]}),Object(v.jsx)("span",{className:"buttonSpan",children:Object(v.jsx)(x.a,{onClick:g,children:"\ud655\uc778"})})]})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"this is main page."}),Object(v.jsx)(x.a,{onClick:function(){localStorage.removeItem("token"),n.push("/"),n.go(0)},children:"\ub85c\uadf8\uc544\uc6c3"})]})]})};var q=function(){var n=Object(l.b)(),e=Object(l.c)((function(n){return n.user})),t=localStorage.getItem("token");return Object(a.useEffect)((function(){n(function(n){return function(){var e=Object(p.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(m,"/getUserObj"),{token:n});case 3:r=e.sent,a=r.data.user,t({type:F,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:F,payload:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}(t))}),[n]),Object(v.jsx)(i.a,{children:Object(v.jsx)(s.c,{children:e?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(s.a,{exact:!0,path:"/",component:Y})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{exact:!0,path:"/",component:k}),Object(v.jsx)(s.a,{exact:!0,path:"/register",component:E})]})})})},A=t(22),H=t(58),M=(t(95),Object(A.b)({user:B})),Q=Object(A.d)(M,Object(A.c)(Object(A.a)(H.a)));c.a.render(Object(v.jsx)(l.a,{store:Q,children:Object(v.jsx)(q,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.cd770eb0.chunk.js.map